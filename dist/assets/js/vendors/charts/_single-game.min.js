"use strict";var EventChart=echarts.init(document.getElementById("singleGame")),urlParams=new URLSearchParams(window.location.search),gameID=urlParams.get("gameId"),option="";GetPlayers(gameID);var SaveIcon="./assets/img/template-images/screenshot.svg",direction="",labelAngel="",rotateVal="",symbol="",offsetVal=0,labelAlign="",lineData=[],lineDataOffset1=0,lineDataOffset2=0,lineDataYOffset=-1;function GetPlayers(e){$.get("./assets/data/single-game.json",function(e){for(var t=e.events,a=[],o=0;o<t.length;o++)"a"==t[o].team?(direction="left",labelAlign="right",offsetVal=-40,lineDataOffset1=45,lineDataOffset2=40,0!=o&&t[o-1].minute==t[o].minute&&(lineDataYOffset+=1.5)):"b"==t[o].team&&(direction="right",labelAlign="left",lineDataOffset1=45,lineDataOffset2=50,offsetVal=40,0!=o&&t[o-1].minute==t[o].minute&&(lineDataYOffset+=1.5)),"Yellow Card"==t[o].type?symbol="yellowcard":"Goal"==t[o].type?symbol="soccer":"VAR"==t[o].type?symbol="Monitor":"Penalty"==t[o].type?symbol="goal":"Red Card"==t[o].type?symbol="redcard":"Double Yellow Card"==t[o].type?symbol="cards":"Subsition"==t[o].type&&(symbol="subs"),lineData.push({coords:[[lineDataOffset1,t[o].minute],[lineDataOffset2,t[o].minute+lineDataYOffset]],value:t[o].minute,name:t[o].type,pname:t[o].player_name,subname:t[o].sub_player_name,minute:t[o].minute,label:{borderWidth:2,borderLeftColor:"white",verticalAlign:"middle",align:labelAlign,rich:{logo:{backgroundColor:{image:"./assets/img/template-images/"+symbol+".svg"},width:15,height:15},name:{textAlign:"left",fontFamily:"Oxygen, sans-serif",fontSize:14,color:"#cb8753",textBorderColor:"transparent"}},formatter:function(e){var t="",t="Subsition"==e.data.name?"-("+e.data.subname+")":"";return" {name|"+e.data.minute+'"} {logo|} {name| '+e.data.pname+t+"} "}}}),a.push({value:t[o].minute,name:t[o].type,pname:t[o].player_name,subname:t[o].sub_player_name,minute:t[o].minute,itemStyle:{color:t[o].color}});option={backgroundColor:"#110708",tooltip:{trigger:"item"},grid:[{top:0,left:0,width:"55%",bottom:0,containLabel:!1},{top:50,width:"100%",right:"0",bottom:100,containLabel:!1}],xAxis:[{show:!1,type:"category",data:[1],gridIndex:1},{show:!1,min:0,max:90,interval:1,gridIndex:1}],yAxis:[{show:!1,interval:3,type:"value",max:90,min:0,inverse:!0,splitNumber:10,gridIndex:1},{show:!1,min:0,max:90,interval:1,gridIndex:1,inverse:!0}],toolbox:{itemSize:40,tooltip:{show:!0,backgroundColor:"transparent",textStyle:{fontSize:12,color:"#000"},extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);"},feature:{saveAsImage:{name:"Fixture",show:!0,pixelRatio:2,backgroundColor:"#110708",title:"Save As Image",icon:"image://"+SaveIcon}},top:0,right:20,zlevel:9},series:[{name:"Event",type:"bar",data:[90],tooltip:{show:!1},barWidth:2,itemStyle:{color:"#cb8753"},markPoint:{symbol:"image://./assets/img/template-images/whistle.svg",silent:!1,label:{formatter:"KICK OFF",position:"top",offset:[0,10],fontSize:16,fontFamily:"Oxygen, sans-serif"},tooltip:{show:!1},symbolKeepAspect:!0,symbolSize:20,data:[{coord:[0,0]}]},label:{normal:{show:!1}}},{name:"Liverpool v Tottenham",type:"lines",coordinateSystem:"cartesian2d",data:lineData,xAxisIndex:1,yAxisIndex:1,symbol:"circle",lineStyle:{normal:{color:"#cb8753",opacity:1,width:1,curveness:.2}},label:{show:!0}}]},EventChart.setOption(option)})}